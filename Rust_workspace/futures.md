### [Create futures](https://docs.rs/futures/0.3.13/futures/)

- Description

  非同期プログラミングのための抽象化。

  このクレートは、非同期コードを書くためのいくつかのコアな抽象化を提供します。

  - [Futures](https://docs.rs/futures/0.3.13/futures/future/trait.Future.html)とは、非同期の計算によって生成される単一の最終的な値のことです。プログラミング言語の中には、この概念を「promise」と呼ぶものがある（JavaScriptなど）
  - [Streams](https://docs.rs/futures/0.3.13/futures/stream/trait.Stream.html)は、非同期に生成される一連の値を表します。
  - [Sinks](https://docs.rs/futures/0.3.13/futures/sink/trait.Sink.html)は、データの非同期書き込みをサポートします。
  - [Executors](https://docs.rs/futures/0.3.13/futures/executor/index.html)は、非同期のタスクを実行する役割を果たします。

  これらすべての基盤となっているのがタスクシステムであり、これは軽量スレッドの一種です。大規模な非同期計算は、フューチャー、ストリーム、シンクを使って構築され、その後、独立したタスクとして生成されます。

  次の例では、タスクシステムのコンテキストがどのように構築され、マクロやキーワード（`async`や`await！`など）で使用されるかを説明します。

  ~~~rust
  fn main() {
      let pool = ThreadPool::new().expect("Failed to build pool");
      let (tx, rx) = mpsc::unbounded::<i32>();
  
      // Create a future by an async block, where async is responsible for an
      // implementation of Future. At this point no executor has been provided
      // to this future, so it will not be running.
      let fut_values = async {
          // Create another async block, again where the Future implementation
          // is generated by async. Since this is inside of a parent async block,
          // it will be provided with the executor of the parent block when the parent
          // block is executed.
          //
          // This executor chaining is done by Future::poll whose second argument
          // is a std::task::Context. This represents our executor, and the Future
          // implemented by this async block can be polled using the parent async
          // block's executor.
          let fut_tx_result = async move {
              (0..100).for_each(|v| {
                  tx.unbounded_send(v).expect("Failed to send");
              })
          };
          
          // Use the provided thread pool to spawn the generated future
          // responsible for transmission
          pool.spawn_ok(fut_tx_result);
  
          let fut_values = rx
              .map(|v| v * 2)
              .collect();
  
          // Use the executor provided to this async block to wait for the
          // future to complete.
          fut_values.await
      };
  
      // Actually execute the above future, which will invoke Future::poll and
      // subsequenty chain appropriate Future::poll and methods needing executors
      // to drive all futures. Eventually fut_values will be driven to completion.
      let values: Vec<i32> = executor::block_on(fut_values);
  
      println!("Values={:?}", values);
  }
  ~~~

  

---

### [futures::stream](https://docs.rs/futures/0.3.8/futures/stream/index.html)

- Description

  非同期ストリーム。

  このモジュールには、以下が含まれています。

  - [Streamトレイト](https://docs.rs/futures/0.3.8/futures/stream/trait.Stream.html)は、非同期的に一連の値を生成できるオブジェクトのためのトレイトです。
  - [StreamExtトレイト](https://docs.rs/futures/0.3.8/futures/stream/trait.StreamExt.html)は、ストリームを連鎖させたり合成したりするためのアダプタを提供します。
  - [iter](https://docs.rs/futures/0.3.8/futures/stream/fn.iter.html)のようなトップレベルのストリームコンストラクタは、イテレータからストリームを生成します。

---

### [futures::stream::BoxStream](https://docs.rs/futures/0.3.8/futures/stream/type.BoxStream.html)

- Description

  動的に型付けされた[ストリーム](https://docs.rs/futures/0.3.8/futures/stream/trait.Stream.html)を所有し、結果を静的に型付けできない場合や、インダイレクトを追加する必要がある場合に使用します。

---

### [futures::stream::StreamExt](https://docs.rs/futures/0.3.8/futures/stream/trait.StreamExt.html)

- Description

  様々な便利なコンビネーター関数を提供する`Streams`の拡張`trait`。